<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="325px" preserveAspectRatio="none" style="width:407px;height:325px;" version="1.1" viewBox="0 0 407 325" width="407px" zoomAndPan="magnify"><defs><filter height="300%" id="fmtyn8yqrvp2e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fmtyn8yqrvp2e)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="61.5" y="8"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="61.5" x2="140.5" y1="35.6094" y2="35.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="71.5" y="27.5332">Patrolling</text><rect fill="#FEFECE" filter="url(#fmtyn8yqrvp2e)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="297" y="8"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="297" x2="381" y1="35.6094" y2="35.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="307" y="27.5332">Searching</text><rect fill="#FEFECE" filter="url(#fmtyn8yqrvp2e)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="197" y="136"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="197" x2="269" y1="163.6094" y2="163.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="207" y="155.5332">Chasing</text><rect fill="#FEFECE" filter="url(#fmtyn8yqrvp2e)" height="50" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="59.5" y="264"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="59.5" x2="126.5" y1="291.6094" y2="291.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="69.5" y="283.5332">Fleeing</text><ellipse cx="16" cy="33" fill="#000000" filter="url(#fmtyn8yqrvp2e)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><!--link *start to Patrolling--><path d="M26.293,33 C36.2332,33 46.1735,33 56.1138,33 " fill="none" id="*start-Patrolling" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="61.3119,33,52.3119,29,56.3119,33,52.3119,37,61.3119,33" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Patrolling to Searching--><path d="M140.695,45.399 C153.791,48.912 168.52,52.254 182.25,54 C214.435,58.092 223.05,57.975 255.25,54 C267.226,52.521 279.952,49.896 291.771,46.992 " fill="none" id="Patrolling-Searching" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="296.776,45.732,287.0721,44.0484,291.9271,46.9517,289.0237,51.8067,296.776,45.732" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="183.25" y="50.4951">hears player</text><!--link Searching to Patrolling--><path d="M296.93,33 C254.47,33 189.14,33 145.748,33 " fill="none" id="Searching-Patrolling" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="140.568,33,149.568,37,145.568,33,149.568,29,140.568,33" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="158.75" y="26.4951">tick [ player.isDead ]</text><!--link Patrolling to Chasing--><path d="M140.562,45.67 C163.083,54.14 190.256,67.72 208,88 C218.476,99.973 224.626,116.582 228.203,130.831 " fill="none" id="Patrolling-Chasing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="229.408,135.96,231.2447,126.2839,228.265,131.0924,223.4566,128.1127,229.408,135.96" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="221" y="102.4951">sees player</text><!--link Chasing to Patrolling--><path d="M196.968,148.606 C152.311,134.316 81.6003,111.067 78,106 C68.9177,93.218 73.325,76.682 80.6078,62.681 " fill="none" id="Chasing-Patrolling" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="83.1725,58.039,75.3183,63.9814,80.7541,62.4152,82.3203,67.8509,83.1725,58.039" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="79" y="102.4951">tick [ player.isDead ]</text><!--link Searching to Chasing--><path d="M335.911,58.293 C333.021,73.248 327.493,92.14 317,106 C305.81,120.781 289.311,132.636 273.891,141.431 " fill="none" id="Searching-Chasing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="269.147,144.061,278.9575,143.1931,273.5193,141.6356,275.0769,136.1974,269.147,144.061" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="328" y="102.4951">sees player</text><!--link Chasing to Fleeing--><path d="M206.007,186.294 C182.475,207.473 148.356,238.1796 123.771,260.3058 " fill="none" id="Chasing-Fleeing" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="119.911,263.7805,129.2761,260.7317,123.627,260.4352,123.9235,254.7861,119.911,263.7805" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="173" y="230.4951">hit [ health &lt; 10 ] / scream()</text><!--link Fleeing to Patrolling--><path d="M81.8658,263.8921 C73.1444,243.6078 61.7241,213.579 57,186 C53.2481,164.097 55.1671,158.147 57,136 C58.7839,114.446 57.0467,108.112 65,88 C68.496,79.159 73.5982,70.28 78.868,62.348 " fill="none" id="Fleeing-Patrolling" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="81.8038,58.046,73.4279,63.2271,78.9863,62.1766,80.0369,67.7351,81.8038,58.046" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="58" y="166.4951">tick [ distance &gt; 10 ]</text><!--
@startuml monster_scream

state Patrolling
state Searching
state Chasing
state Fleeing

[*] -> Patrolling

Patrolling -> Searching : hears player
Searching -> Patrolling : tick [ player.isDead ]

Patrolling - -> Chasing : sees player
Searching - -> Chasing : sees player
Chasing - -> Patrolling : tick [ player.isDead ]
Chasing - -> Fleeing : hit [ health < 10 ] / scream()
Fleeing -> Patrolling : tick [ distance > 10 ]

@enduml

PlantUML version 1.2019.06(Sat May 25 03:10:25 AEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+7
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: AU
--></g></svg>